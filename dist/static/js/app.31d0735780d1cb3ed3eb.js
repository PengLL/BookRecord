webpackJsonp([1],[,function(t,e,o){"use strict";var a=o(31),s=o.n(a);e.a={key:"readingBooks",save:function(t){return window.localStorage.setItem(this.key,s()(t))},fetch:function(){return JSON.parse(window.localStorage.getItem(this.key)||"[]")}}},,,,,,,,,function(t,e,o){"use strict";o.d(e,"n",function(){return a}),o.d(e,"c",function(){return s}),o.d(e,"f",function(){return i}),o.d(e,"l",function(){return n}),o.d(e,"g",function(){return r}),o.d(e,"j",function(){return l}),o.d(e,"q",function(){return c}),o.d(e,"k",function(){return d}),o.d(e,"p",function(){return u}),o.d(e,"o",function(){return g}),o.d(e,"r",function(){return f}),o.d(e,"b",function(){return p}),o.d(e,"d",function(){return v}),o.d(e,"e",function(){return h}),o.d(e,"i",function(){return m}),o.d(e,"a",function(){return k}),o.d(e,"m",function(){return C}),o.d(e,"h",function(){return _});var a="PlSlideBar/setSlideBarStatus",s="PlSlideBar/addCategory",i="PlSlideBar/chooseCategory",n="PlSlideBar/setDeleteCategoryIndex",r="PlSlideBar/deleteCategory",l="GET_CATEGORIES",c="PlDialogCollection/ShowDeleteCategoryDialog",d="PlDialogCollection/hideDialog",u="PlDialogCollection/showCategroyDialog",g="PlDialogCollection/showBookDialog",f="PlDialogCollection/showProgressDialog",p="PlDialogCollection/addBookInfo",v="PlDialogCollection/addCategoryInfo",h="PlDialogCollection/addProgressInfo",m="GET_BOOKS",k="PlMain/addBook",C="PlMain/setEditBookIndex",_="PlMain/deleteCategoryBooks"},function(t,e,o){"use strict";var a=o(4),s=o.n(a),i=o(74),n=o(75),r=o.n(n),l=o(79),c=o.n(l);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:c.a},{path:"/bookDetail/:id",component:r.a}]})},,,,,,,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),s=o.n(a),i=o(21),n=o.n(i),r=o(67),l=o(11);new s.a({el:"#app",store:r.a,router:l.a,template:"<App/>",components:{App:n.a}})},,function(t,e,o){o(22);var a=o(0)(o(24),o(66),null,null);t.exports=a.exports},function(t,e){},,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(25),s=o.n(a),i=o(35),n=o.n(i),r=o(65),l=o.n(r);e.default={name:"app",created:function(){l.a.attach(document.body)},components:{PlDialogCollection:s.a,plSlideBar:n.a}}},function(t,e,o){o(26);var a=o(0)(o(27),o(34),"data-v-36da7de9",null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(28),s=o.n(a);e.default={data:function(){return{bookName:"",author:"",pages:"",readedPages:"",newCategory:""}},computed:{bookInfo:function(){return this.$store.state.PlDialogCollection.bookInfo},categoryInfo:function(){return this.$store.state.PlDialogCollection.categoryInfo},progressInfo:function(){return this.$store.state.PlDialogCollection.progressInfo},categoryDialog:function(){return this.$store.state.PlDialogCollection.categoryDialog},bookDialog:function(){return this.$store.state.PlDialogCollection.bookDialog},progressDialog:function(){return this.$store.state.PlDialogCollection.progressDialog},deleteCatDialog:function(){return this.$store.state.PlDialogCollection.deleteCatDialog},category:function(){return this.$store.state.PlSlideBar.category},editIndex:function(){return this.$store.state.PlMain.editIndex},books:function(){return this.$store.state.PlMain.books}},components:{PlDialog:s.a},methods:{addBook:function(){var t=this,e={category:t.category,name:t.bookName,author:t.author,pages:t.pages,progress:"0%",swiped:!1,readedPages:0};this.$store.dispatch("addBook",e),0==this.bookInfo.length&&(this.bookName="",this.pages="",this.author="")},updateBookProgress:function(){this.$store.dispatch("updateBookProgress",this.readedPages),0==this.progressInfo.length&&(this.readedPages="")},addCategory:function(){var t=this,e={name:t.newCategory,status:!1};this.$store.dispatch("addCategory",e),0==this.categoryInfo.length&&(this.newCategory="")},deleteCategory:function(){this.$store.dispatch("deleteCategory"),this.$store.dispatch("hideDialog")}}}},function(t,e,o){o(29);var a=o(0)(o(30),o(33),"data-v-7f924deb",null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(1);e.default={props:{info:{type:Array},title:{type:String}},methods:{hideDialog:function(){this.$store.dispatch("hideDialog")}}}},,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"PlDialog-fade"}},[o("div",{staticClass:"PlDialog-wrapper",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.hideDialog(e)}}},[o("div",{staticClass:"PlDialog"},[o("div",{staticClass:"PlDialog-header"},[t._v("\r\n\t\t\t\t"+t._s(t.title)+"\r\n\t\t\t")]),t._v(" "),o("div",{staticClass:"PlDialog-body"},[o("div",{staticClass:"PlDialog-info"},[o("ul",t._l(t.info,function(e){return o("li",[t._v(t._s(e))])}))]),t._v(" "),t._t("body")],2),t._v(" "),o("div",{staticClass:"PlDialog-footer"},[t._t("footer")],2)])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.categoryDialog,expression:"categoryDialog"}],attrs:{title:"添加书籍类别",info:t.categoryInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newCategory,expression:"newCategory"}],attrs:{type:"text",placeholder:"请输入类别"},domProps:{value:t.newCategory},on:{input:function(e){e.target.composing||(t.newCategory=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.addCategory},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("添加")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.bookDialog,expression:"bookDialog"}],attrs:{title:"添加书籍",info:t.bookInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookName,expression:"bookName"}],attrs:{type:"text",placeholder:"请输入书名"},domProps:{value:t.bookName},on:{input:function(e){e.target.composing||(t.bookName=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",placeholder:"请输入作者"},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pages,expression:"pages"}],attrs:{type:"text",placeholder:"请输入书的总页数"},domProps:{value:t.pages},on:{input:function(e){e.target.composing||(t.pages=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.addBook},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("添加")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.progressDialog,expression:"progressDialog"}],attrs:{title:"更改书籍进度",info:t.progressInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.readedPages,expression:"readedPages"}],attrs:{type:"text",placeholder:"请输入已读页数"},domProps:{value:t.readedPages},on:{input:function(e){e.target.composing||(t.readedPages=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.updateBookProgress},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("修改")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.deleteCatDialog,expression:"deleteCatDialog"}],attrs:{title:"删除书籍类别"}},[o("div",{slot:"body"},[o("p",{staticClass:"PlDialogCollection-text"},[t._v("你将删除该类别")])]),t._v(" "),o("div",{on:{click:t.deleteCategory},slot:"footer"},[o("span",{staticClass:"PlDialogCollection-delete"},[t._v("确定")])])])],1)},staticRenderFns:[]}},function(t,e,o){o(36);var a=o(0)(o(37),o(64),"data-v-1669e536",null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(12),s=o.n(a),i=(o(1),o(8));e.default={computed:Object(i.c)(["categories","slideBarStatus"]),mounted:function(){this.getCategories()},methods:s()({},Object(i.b)(["showCategoryDialog","chooseCategory","showDeleteCategoryDialog","setSlidebarStatus","getCategories"]))}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("transition",{attrs:{name:"SlideBar"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.slideBarStatus,expression:"slideBarStatus"}],staticClass:"PlSlideBar-wrapper",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.setSlidebarStatus(!1)}}})]),t._v(" "),o("transition",{attrs:{name:"Bar"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.slideBarStatus,expression:"slideBarStatus"}],staticClass:"PlSlideBar"},[o("div",{staticClass:"PlSlideBar-head"},[o("div",[o("span",{staticClass:"fa fa-plus fa-2x",on:{click:t.showCategoryDialog}})])]),t._v(" "),o("div",{staticClass:"PlSlideBar-body"},[o("ul",t._l(t.categories,function(e,a){return o("li",[o("span",{staticClass:"PlSlideBar-name",class:{"PlSlideBar-name-active":e.status},on:{click:function(e){t.chooseCategory(a)}}},[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"fa fa-trash-o fa-lg PlSlideBar-delete",on:{click:function(e){t.showDeleteCategoryDialog(a)}}})])}))])])])],1)},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("pl-slide-bar"),t._v(" "),o("transition",{attrs:{name:"router-fade"}},[o("router-view")],1),t._v(" "),o("pl-dialog-Collection")],1)},staticRenderFns:[]}},function(t,e,o){"use strict";var a=o(4),s=o.n(a),i=o(8),n=o(68),r=o(72),l=o(73);s.a.use(i.a),e.a=new i.a.Store({modules:{PlMain:n.a,PlDialogCollection:r.a,PlSlideBar:l.a}})},function(t,e,o){"use strict";var a,s=o(9),i=o.n(s),n=o(1),r=o(10);e.a={state:{books:[],editIndex:0,STORAGE_KEY_BOOK:"readingBooks"},getters:{books:function(t){return t.books}},mutations:(a={},i()(a,r.i,function(t,e){t.books=e}),i()(a,r.a,function(t,e){t.books.push(e)}),i()(a,r.m,function(t,e){t.editIndex=e}),i()(a,r.h,function(t,e){for(var o=t.books.length,a=o-1;a>=0;a--)t.books[a].category==e&&t.books.splice(a,1)}),a),actions:{deleteBook:function(t,e){var o=(t.commit,t.state),a=t.dispatch;o.books.splice(e,1),a("saveBooks")},addBook:function(t,e){var o=t.commit,a=t.dispatch,s=[];""==e.author&&s.push("作者名未填写"),""==e.name&&s.push("书名未填写"),""==e.pages&&s.push("书的总页数未填写"),isNaN(e.pages)&&s.push("输入的书籍总页数格式错误"),""==e.category&&s.push("请在侧栏选择一个类别"),s.length>0?a("addBookInfo",s):(o(r.a,e),a("saveBooks"),a("hideDialog"))},updateBookProgress:function(t,e){var o=(t.commit,t.state),a=t.dispatch,s=[];if(""==e&&(s=["请填写已读页数"]),isNaN(e)&&(s=["请输入数字"]),parseInt(e)>parseInt(o.books[o.editIndex].pages)&&(s=["已读页数大于书籍的实际页数"]),s.length>0)a("addProgressInfo",s);else{var i=o.books[o.editIndex];i.readedPages=e,i.progress=parseInt(e/i.pages*100)+"%",a("saveBooks"),a("hideDialog")}},getBooks:function(t){var e=t.commit,o=t.state;n.a.key=o.STORAGE_KEY_BOOK,e(r.i,n.a.fetch())},saveBooks:function(t){var e=t.state;n.a.key=e.STORAGE_KEY_BOOK,n.a.save(e.books)}}}},,,,function(t,e,o){"use strict";var a,s=o(9),i=o.n(s),n=o(10);e.a={state:{categoryDialog:!1,bookDialog:!1,progressDialog:!1,deleteCatDialog:!1,bookInfo:[],progressInfo:[],categoryInfo:[]},mutations:(a={},i()(a,n.k,function(t){t.categoryDialog=!1,t.bookDialog=!1,t.progressDialog=!1,t.deleteCatDialog=!1,t.bookInfo=[],t.categoryInfo=[],t.progressInfo=[]}),i()(a,n.p,function(t){t.categoryDialog=!0}),i()(a,n.o,function(t){t.bookDialog=!0}),i()(a,n.r,function(t){t.progressDialog=!0}),i()(a,n.q,function(t){t.deleteCatDialog=!0}),i()(a,n.b,function(t,e){t.bookInfo=e}),i()(a,n.e,function(t,e){t.progressInfo=e}),i()(a,n.d,function(t,e){t.categoryInfo=e}),a),actions:{showCategoryDialog:function(t){(0,t.commit)(n.p)},showBookDialog:function(t){(0,t.commit)(n.o)},showDeleteCategoryDialog:function(t,e){var o=t.commit;o(n.q),o(n.l,e)},showProgressDialog:function(t,e){var o=t.commit;o(n.m,e),o(n.r)},addBookInfo:function(t,e){(0,t.commit)(n.b,e)},addCategoryInfo:function(t,e){(0,t.commit)(n.d,e)},addProgressInfo:function(t,e){(0,t.commit)(n.e,e)},hideDialog:function(t){(0,t.commit)(n.k)}}}},function(t,e,o){"use strict";var a,s=o(9),i=o.n(s),n=o(1),r=o(10);e.a={state:{slideBarStatus:!1,categories:[],category:"",deleteIndex:0,STORAGE_KEY_CATEGORY:"readingCategory"},getters:{slideBarStatus:function(t){return t.slideBarStatus},category:function(t){return t.category},categories:function(t){return t.categories}},mutations:(a={},i()(a,r.n,function(t,e){t.slideBarStatus=e}),i()(a,r.c,function(t,e){t.categories.push(e)}),i()(a,r.f,function(t,e){t.category=t.categories[e].name;for(var o=t.categories,a=0;a<o.length;a++)t.categories[a].status=!1;for(var s=0;s<o.length;s++)t.categories[s].status=s==e}),i()(a,r.l,function(t,e){t.deleteIndex=e}),i()(a,r.g,function(t){t.categories.splice(t.deleteIndex,1)}),i()(a,r.j,function(t,e){t.categories=e}),a),actions:{chooseCategory:function(t,e){(0,t.commit)(r.f,e)},deleteCategory:function(t){var e=t.commit,o=t.state,a=t.dispatch,s=o.categories[o.deleteIndex].name;e(r.h,s),a("saveBooks"),o.category==s&&(o.category=""),e(r.g),a("saveCategories")},addCategory:function(t,e){var o=t.commit,a=t.dispatch,s=[];""==e.name&&s.push("请填写书籍类别"),s.length>0?a("addCategoryInfo",s):(o(r.c,e),a("saveCategories"),a("hideDialog"))},setSlidebarStatus:function(t,e){(0,t.commit)(r.n,e)},saveCategories:function(t){var e=t.state;n.a.key=e.STORAGE_KEY_CATEGORY,n.a.save(e.categories)},getCategories:function(t){var e=t.state,o=t.commit;n.a.key=e.STORAGE_KEY_CATEGORY,o(r.j,n.a.fetch()),e.categories[0]&&o(r.f,0)}}}},,function(t,e,o){o(76);var a=o(0)(o(77),o(78),null,null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(11);e.default={data:function(){return{index:this.$route.params.id}},computed:{book:function(){return this.$store.state.PlMain.books[this.index]}},methods:{deleteBook:function(){a.a.push("/"),this.$store.dispatch("deleteBook",this.index)},goToIndex:function(){a.a.push("/")}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlBookDetail"},[o("div",{staticClass:"PlBookDetail-book"},[o("div",{staticClass:"PlBookDetail-title"},[o("span",[t._v(t._s(t.book.name))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-user-o fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("作者："+t._s(t.book.author))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-bookmark-o fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("书签："+t._s(t.book.readedPages)+"/"+t._s(t.book.pages))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-archive fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("进度："+t._s(t.book.progress))])])]),t._v(" "),o("div",{staticClass:"PlBookDetail-btn"},[o("button",{staticClass:"PlBookDetail-btn-back",on:{click:t.goToIndex}},[t._v("返回")]),t._v(" "),o("button",{staticClass:"PlBookDetail-btn-delete",on:{click:t.deleteBook}},[t._v("删除")])])])},staticRenderFns:[]}},function(t,e,o){var a=o(0)(o(80),o(90),null,null);t.exports=a.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(81),s=o.n(a),i=o(85),n=o.n(i);e.default={components:{PlMain:n.a,PlHeader:s.a}}},function(t,e,o){o(82);var a=o(0)(o(83),o(84),"data-v-47ff08b0",null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{category:function(){return this.$store.state.PlSlideBar.category}},methods:{activeSlideBar:function(){this.$store.dispatch("setSlidebarStatus",!0)}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlHeader"},[o("span",{staticClass:"fa fa-bars fa-2x pl-bars",on:{click:t.activeSlideBar}}),o("span",{staticClass:"entry"},[t._v(t._s(t.category))]),o("span",{staticClass:"place"})])},staticRenderFns:[]}},function(t,e,o){o(86);var a=o(0)(o(87),o(89),"data-v-1b9ebc9c",null);t.exports=a.exports},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(12),s=o.n(a),i=(o(11),o(88)),n=o.n(i),r=o(8);e.default={data:function(){return{scroll:null}},computed:Object(r.c)(["books","category"]),mounted:function(){this.getBooks(),this.initScroll()},watch:{books:function(){this.$nextTick(function(){this.scroll.refresh()})}},methods:s()({},Object(r.b)(["showBookDialog","showProgressDialog","getBooks"]),{initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new n.a(document.getElementById("wrapper"),{click:!0})}})}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlMain"},[o("div",{staticClass:"PlMain-list"},[o("div",{attrs:{id:"wrapper"}},[o("ul",t._l(t.books,function(e,a){return o("li",{directives:[{name:"show",rawName:"v-show",value:e.category==t.category,expression:"item.category==category"}],staticClass:"PlMain-item"},[o("router-link",{attrs:{to:"/bookDetail/"+a}},[o("div",{staticClass:"PlMain-detail",attrs:{id:a}},[o("div",{staticClass:"PlMain-book"},[o("span",{staticClass:"bookName"},[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"author"},[t._v(t._s(e.author))])]),t._v(" "),o("div",{staticClass:"PlMain-progressBar"},[o("div",{staticClass:"outerBar"},[o("div",{staticClass:"innerBar",style:{width:e.progress}})]),t._v(" "),o("span",{staticClass:"PlMain-progress"},[t._v(" "+t._s(e.progress))])])])]),t._v(" "),o("div",{staticClass:"PlMain-edit"},[o("span",{staticClass:"fa fa-pencil-square-o fa-2x updateIcon",on:{click:function(e){t.showProgressDialog(a)}}}),t._v(" "),o("span",{staticClass:"pages"},[t._v(t._s(e.readedPages)+" 页")])])],1)}))])]),t._v(" "),o("div",{staticClass:"PlMain-addNew",on:{click:t.showBookDialog}},[o("span",{staticClass:"fa fa-book fa-lg"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlIndex"},[o("pl-header"),t._v(" "),o("div",{staticClass:"PlIndex-main"}),t._v(" "),o("pl-main")],1)},staticRenderFns:[]}}],[19]);
//# sourceMappingURL=app.31d0735780d1cb3ed3eb.js.map